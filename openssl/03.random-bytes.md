# ç”Ÿæˆä¼ªéšæœºæ•°æ®

æ¥ç€ä¸Šé¢çš„ SHA-256 ï¼Œ DHKE æ¨ç®—å‡ºçš„ 2048bit çš„ key æˆåŠŸ hash æˆ 256bit äº†ï¼Œä½†æ˜¯ AES-256 è¿˜è¦ä¸€æ®µ 16byte çš„ IV æ¥å¢åŠ éšæœºæ€§ï¼Œè¿™ä¸ª IV æˆ‘å†³å®šç”¨ä¸€äº›éšæœºçš„ byte ã€‚

ä¼Ÿå¤§çš„ OpenSSL ä¹Ÿæœ‰å¾ˆæ–¹ä¾¿çš„å‡½æ•°ç”Ÿæˆä¸€äº›ä¼ªéšæœºçš„ byte ğŸ˜­ï¼Œ OpenSSL çœŸçš„ï¼Œæˆ‘å“­æ­» ğŸ˜­ ã€‚

```c++
#include "openssl/rand.h"

/* ... */

int main(int argc, char const *argv[]) {
    // ç”Ÿæˆ 16 bytes çš„ä¼ªéšæœºæ•°æ®
    std::size_t length = 16;
    // ç¼“å†²åŒº
    unsigned char buffer[length + 1];
    if (RAND_bytes(buffer, length) <= 0) {
        return -1;
    }
    // æŠŠç»“æœæ”¾è¿› std::string é‡Œ
    std::string result(reinterpret_cast<char*>(buffer), length);

    return 0;
}
```
